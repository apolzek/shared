# Frontend Observability with Grafana Alloy

### Objectives

### Summary

This PoC showcases a web application composed of a frontend built with plain HTML, CSS, and JavaScript, instrumented with Grafana Faro and Grafana Web Trace, and a backend built with plain Node.js, instrumented using OpenTelemetry. The frontend observability data is sent to Grafana Alloy, while the backend data is sent directly to Grafana Tempo. Logs, metrics, and traces are visualized using Grafana. The main goal of this PoC is to explore the types of data that can be extracted using Grafana Faro and understand how to gather meaningful insights about frontend behavior and performance.

### Architecture and Components

The architecture uses **Grafana** as the central interface for visualizing logs, metrics, and traces. It is configured to connect to the other components of the observability stack and display data in unified dashboards. Through Grafana, it is possible to analyze in real-time the signals emitted by the application's frontend and backend.

**Grafana Alloy** acts as the data collection agent for the frontend. It receives signals sent by the Grafana Faro Web SDK, such as JavaScript errors, page load times, and user interactions. Alloy accepts these signals through the Faro receiver and forwards them to other observability tools like Loki and Tempo, enabling centralized frontend observability.

**Loki** is the component responsible for log management. It stores and indexes logs that can be sent from various sources, including Grafana Alloy or other connected services. In this architecture, Loki is used to store logs from both the frontend and backend, enabling quick searches and correlation with other signals like traces and metrics.

**Tempo** is the distributed tracing component that stores and queries traces generated by instrumented applications. In this case, it receives data directly from the Node.js backend via the OTLP protocol (gRPC/HTTP), thanks to instrumentation with OpenTelemetry. This enables end-to-end tracing, bottleneck identification, and understanding of backend execution flow.

**Prometheus** is used for metrics collection and storage. While optional in this stack, it is important for monitoring the observability environment itself, such as resource usage, container states, and other infrastructure metrics. It can also be integrated with Grafana for real-time metric visualization.

## Reproducing

```
docker compose up
node --require ./instrumentation.js app.js
http://localhost:12348/metrics
```

## References

```
https://github.com/grafana/faro-web-sdk
https://grafana.com/docs/grafana-cloud/monitor-applications/frontend-observability/instrument/
https://github.com/grafana/faro-web-sdk/blob/main/docs/sources/tutorials/quick-start-browser.md
https://github.com/grafana/faro-web-sdk/tree/main/demo
https://github.com/grafana/faro-web-sdk/tree/main/packages/core
https://github.com/grafana/faro-web-sdk/tree/main/packages/web-tracing
https://github.com/grafana/faro-web-sdk/blob/main/docs/sources/tutorials/quick-start-browser.md
https://github.com/grafana/faro-web-sdk/blob/main/docs/sources/tutorials/quick-start-browser.md
https://github.com/blueswen/observability-ironman30-lab/blob/6fbf4e32f915f2e83ea4141a7defa6334991cd81/app/todo-app/jquery-app/index.html#L34
https://github.com/grafana/faro-web-sdk/blob/c5562b387f8ad8b7318f3aaedfa7c3e2ce005fca/docs/sources/tutorials/use-cdn-library.md?plain=1#L27
https://github.com/grafana/faro-web-sdk/blob/main/docs/sources/tutorials/use-cdn-library.md
https://grafana.com/grafana/dashboards/17766-frontend-monitoring/
```